entity: account
lookup_field: name

mappings:
  # Daktela display name <- Raynet company name
  - source: title
    target: name
    direction: crm_to_cc

  # Daktela unique name <- prefix + Raynet company ID
  - source: name
    target: id
    direction: crm_to_cc
    transformers:
      - name: prefix
        params: { value: "raynet_" }

  # Registration number (ICO)
  - source: customFields.regNumber
    target: regNumber
    direction: crm_to_cc

  # Tax number (DIC)
  - source: customFields.taxNumber
    target: taxNumber
    direction: crm_to_cc

  # VAT payer status (YES/NO)
  - source: customFields.taxPayer
    target: taxPayer
    direction: crm_to_cc

  # Primary email
  - source: customFields.email
    target: primaryAddress.contactInfo.email
    direction: crm_to_cc
    transformers:
      - name: wrap_array

  # Secondary email (appended to same Daktela field)
  - source: customFields.email
    target: primaryAddress.contactInfo.email2
    direction: crm_to_cc
    append: true
    transformers:
      - name: wrap_array

  # Primary phone
  - source: customFields.number
    target: primaryAddress.contactInfo.tel1
    direction: crm_to_cc
    transformers:
      - name: wrap_array

  # Secondary phone (appended to same Daktela field)
  - source: customFields.number
    target: primaryAddress.contactInfo.tel2
    direction: crm_to_cc
    append: true
    transformers:
      - name: wrap_array

  # Website
  - source: customFields.www
    target: primaryAddress.contactInfo.www
    direction: crm_to_cc

  # Primary address
  - source: customFields.street
    target: primaryAddress.address.street
    direction: crm_to_cc

  - source: customFields.city
    target: primaryAddress.address.city
    direction: crm_to_cc

  - source: customFields.zipCode
    target: primaryAddress.address.zipCode
    direction: crm_to_cc

  - source: customFields.country
    target: primaryAddress.address.country
    direction: crm_to_cc

  # Client rating (A/B/C)
  - source: customFields.rating
    target: rating
    direction: crm_to_cc

  # Client state (A_POTENTIAL, B_ACTUAL, C_DEFERRED, D_UNATTRACTIVE)
  - source: customFields.state
    target: state
    direction: crm_to_cc

  # Client role (A_SUBSCRIBER, B_PARTNER, C_SUPPLIER, D_RIVAL)
  - source: customFields.role
    target: role
    direction: crm_to_cc

  # Notes
  - source: customFields.notice
    target: notice
    direction: crm_to_cc

  # Category (enum object -> readable value)
  - source: customFields.category
    target: category.value
    direction: crm_to_cc

  # Contact source (enum object -> readable value)
  - source: customFields.contactSource
    target: contactSource.value
    direction: crm_to_cc

  # Employees count (enum object -> readable value)
  - source: customFields.employeesNumber
    target: employeesNumber.value
    direction: crm_to_cc

  # Turnover bracket (enum object -> readable value)
  - source: customFields.turnover
    target: turnover.value
    direction: crm_to_cc

  # Legal form (enum object -> readable value)
  - source: customFields.legalForm
    target: legalForm.value
    direction: crm_to_cc

  # Bank account
  - source: customFields.bankAccount
    target: bankAccount
    direction: crm_to_cc

  # Databox (datova schranka)
  - source: customFields.databox
    target: databox
    direction: crm_to_cc

  # Social networks
  - source: customFields.facebook
    target: socialNetworkContact.facebook
    direction: crm_to_cc

  - source: customFields.linkedin
    target: socialNetworkContact.linkedin
    direction: crm_to_cc

  # CRM detail URL
  - source: description
    target: id
    direction: crm_to_cc
    transformers:
      - name: url
        params: { template: "https://app.raynet.cz/${RAYNET_INSTANCE_NAME}/?view=DetailView&en=Company&ei={value}" }
