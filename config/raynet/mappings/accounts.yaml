entity: account
lookup_field: name

mappings:
  # Daktela display name <- Raynet company name
  - cc_field: title
    crm_field: name

  # Daktela unique name <- prefix + Raynet company ID
  - cc_field: name
    crm_field: id
    transformers:
      - name: prefix
        params: { value: "raynet_" }

  # Registration number (ICO)
  - cc_field: customFields.regNumber
    crm_field: regNumber

  # Tax number (DIC)
  - cc_field: customFields.taxNumber
    crm_field: taxNumber

  # VAT payer status (YES/NO)
  - cc_field: customFields.taxPayer
    crm_field: taxPayer

  # Primary email
  - cc_field: customFields.email
    crm_field: primaryAddress.contactInfo.email
    transformers:
      - name: wrap_array

  # Secondary email (appended to same Daktela field)
  - cc_field: customFields.email
    crm_field: primaryAddress.contactInfo.email2
    append: true
    transformers:
      - name: wrap_array

  # Primary phone
  - cc_field: customFields.number
    crm_field: primaryAddress.contactInfo.tel1
    transformers:
      - name: wrap_array

  # Secondary phone (appended to same Daktela field)
  - cc_field: customFields.number
    crm_field: primaryAddress.contactInfo.tel2
    append: true
    transformers:
      - name: wrap_array

  # Website
  - cc_field: customFields.www
    crm_field: primaryAddress.contactInfo.www

  # Primary address
  - cc_field: customFields.street
    crm_field: primaryAddress.address.street

  - cc_field: customFields.city
    crm_field: primaryAddress.address.city

  - cc_field: customFields.zipCode
    crm_field: primaryAddress.address.zipCode

  - cc_field: customFields.country
    crm_field: primaryAddress.address.country

  # Client rating (A/B/C)
  - cc_field: customFields.rating
    crm_field: rating

  # Client state (A_POTENTIAL, B_ACTUAL, C_DEFERRED, D_UNATTRACTIVE)
  - cc_field: customFields.state
    crm_field: state

  # Client role (A_SUBSCRIBER, B_PARTNER, C_SUPPLIER, D_RIVAL)
  - cc_field: customFields.role
    crm_field: role

  # Notes
  - cc_field: customFields.notice
    crm_field: notice

  # Category (enum object -> readable value)
  - cc_field: customFields.category
    crm_field: category.value

  # Contact source (enum object -> readable value)
  - cc_field: customFields.contactSource
    crm_field: contactSource.value

  # Employees count (enum object -> readable value)
  - cc_field: customFields.employeesNumber
    crm_field: employeesNumber.value

  # Turnover bracket (enum object -> readable value)
  - cc_field: customFields.turnover
    crm_field: turnover.value

  # Legal form (enum object -> readable value)
  - cc_field: customFields.legalForm
    crm_field: legalForm.value

  # Bank account
  - cc_field: customFields.bankAccount
    crm_field: bankAccount

  # Databox (datova schranka)
  - cc_field: customFields.databox
    crm_field: databox

  # Social networks
  - cc_field: customFields.facebook
    crm_field: socialNetworkContact.facebook

  - cc_field: customFields.linkedin
    crm_field: socialNetworkContact.linkedin

  # CRM detail URL
  - cc_field: description
    crm_field: id
    transformers:
      - name: url
        params: { template: "https://app.raynet.cz/${RAYNET_INSTANCE_NAME}/?view=DetailView&en=Company&ei={value}" }
